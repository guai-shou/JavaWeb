var pe=Object.defineProperty,ve=Object.defineProperties;var ye=Object.getOwnPropertyDescriptors;var P=Object.getOwnPropertySymbols;var Ee=Object.prototype.hasOwnProperty,Ce=Object.prototype.propertyIsEnumerable;var Z=(e,t,s)=>t in e?pe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,_=(e,t)=>{for(var s in t||(t={}))Ee.call(t,s)&&Z(e,s,t[s]);if(P)for(var s of P(t))Ce.call(t,s)&&Z(e,s,t[s]);return e},z=(e,t)=>ve(e,ye(t));import{o as ne,ac as be,a as ge,a5 as Te,w as G,ae as Se,O as V,d as j,l as R,q as g,ar as ke,A as F,b as L,e as K,f as H,j as T,u as o,y as he,h,g as q,N as we,m as x,t as le,k as Me,r as w,c as X,D as Ae,n as De,X as Le,p as Ie,i as Be,v as Ne,ab as Oe,T as Re,U as $e}from"./index.1ab5ed35.js";import{k as Q,f as ae,I as ee,C as oe,J as Ye,K as _e,b as J,d as W,p as ze,E as He,L as Ue,g as Xe,n as Ve,i as Ke,z as te}from"./index2.3dd85f37.js";import{u as ie,_ as re,b as Ge,y as qe,w as xe}from"./plugin-vue_export-helper.8ab27d33.js";import{u as We}from"./index2.69e68361.js";import{t as je,F as Je,i as Pe,u as se,x as Ze,y as Fe}from"./el-popper.4015840f.js";import{U as ue}from"./el-input.340f03b2.js";import{a as Qe}from"./scroll2.ee9614c9.js";var U=(e=>(e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL",e))(U||{});const de=Symbol("dialogInjectionKey"),eo=(e,t,s)=>{let i={offsetX:0,offsetY:0};const u=m=>{const r=m.clientX,y=m.clientY,{offsetX:l,offsetY:c}=i,f=e.value.getBoundingClientRect(),E=f.left,M=f.top,I=f.width,B=f.height,A=document.documentElement.clientWidth,N=document.documentElement.clientHeight,O=-E+l,D=-M+c,S=A-E-I+l,v=N-M-B+c,k=p=>{const C=Math.min(Math.max(l+p.clientX-r,O),S),$=Math.min(Math.max(c+p.clientY-y,D),v);i={offsetX:C,offsetY:$},e.value.style.transform=`translate(${Q(C)}, ${Q($)})`},a=()=>{document.removeEventListener("mousemove",k),document.removeEventListener("mouseup",a)};document.addEventListener("mousemove",k),document.addEventListener("mouseup",a)},d=()=>{t.value&&e.value&&t.value.addEventListener("mousedown",u)},n=()=>{t.value&&e.value&&t.value.removeEventListener("mousedown",u)};ne(()=>{be(()=>{s.value?d():n()})}),ge(()=>{n()})},oo=e=>{if(Te(e)||je("[useLockscreen]","You need to pass a ref param to this function"),!ae||ee(document.body,"el-popup-parent--hidden"))return;let t=0,s=!1,i="0",u=0;const d=()=>{_e(document.body,"el-popup-parent--hidden"),s&&(document.body.style.paddingRight=i)};G(e,n=>{if(!n){d();return}s=!ee(document.body,"el-popup-parent--hidden"),s&&(i=document.body.style.paddingRight,u=Number.parseInt(oe(document.body,"paddingRight"),10)),t=Qe();const m=document.documentElement.clientHeight<document.body.scrollHeight,r=oe(document.body,"overflowY");t>0&&(m||r==="scroll")&&s&&(document.body.style.paddingRight=`${u+t}px`),Ye(document.body,"el-popup-parent--hidden")}),Se(()=>d())},ce=e=>{if(!e)return{onClick:V,onMousedown:V,onMouseup:V};let t=!1,s=!1;return{onClick:n=>{t&&s&&e(n),t=s=!1},onMousedown:n=>{t=n.target===n.currentTarget},onMouseup:n=>{s=n.target===n.currentTarget}}},to=J({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:W([String,Array,Object])},zIndex:{type:W([String,Number])}}),so={click:e=>e instanceof MouseEvent};var no=j({name:"ElOverlay",props:to,emits:so,setup(e,{slots:t,emit:s}){const i=ie("overlay"),u=r=>{s("click",r)},{onClick:d,onMousedown:n,onMouseup:m}=ce(e.customMaskEvent?void 0:u);return()=>e.mask?R("div",{class:[i.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:d,onMousedown:n,onMouseup:m},[g(t,"default")],U.STYLE|U.CLASS|U.PROPS,["onClick","onMouseup","onMousedown"]):ke("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[g(t,"default")])}});const lo=no,fe=J({center:{type:Boolean,default:!1},closeIcon:{type:ze,default:""},customClass:{type:String,default:""},draggable:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},showClose:{type:Boolean,default:!0},title:{type:String,default:""}}),ao={close:()=>!0},io=["aria-label"],ro=["id"],uo={name:"ElDialogContent"},co=j(z(_({},uo),{props:fe,emits:ao,setup(e){const{t}=We(),{Close:s}=Ue,{dialogRef:i,headerRef:u,bodyId:d,ns:n,style:m}=F(de),{focusTrapRef:r}=F(Je),y=Pe(r,i);return(l,c)=>(L(),K("div",{ref:o(y),class:T([o(n).b(),o(n).is("fullscreen",l.fullscreen),o(n).is("draggable",l.draggable),{[o(n).m("center")]:l.center},l.customClass]),style:le(o(m)),tabindex:"-1",onClick:c[1]||(c[1]=Me(()=>{},["stop"]))},[H("header",{ref_key:"headerRef",ref:u,class:T(o(n).e("header"))},[g(l.$slots,"header",{},()=>[H("span",{role:"heading",class:T(o(n).e("title"))},he(l.title),3)]),l.showClose?(L(),K("button",{key:0,"aria-label":o(t)("el.dialog.close"),class:T(o(n).e("headerbtn")),type:"button",onClick:c[0]||(c[0]=f=>l.$emit("close"))},[R(o(He),{class:T(o(n).e("close"))},{default:h(()=>[(L(),q(we(l.closeIcon||o(s))))]),_:1},8,["class"])],10,io)):x("v-if",!0)],2),H("div",{id:o(d),class:T(o(n).e("body"))},[g(l.$slots,"default")],10,ro),l.$slots.footer?(L(),K("footer",{key:0,class:T(o(n).e("footer"))},[g(l.$slots,"footer")],2)):x("v-if",!0)],6))}}));var fo=re(co,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const mo=J(z(_({},fe),{appendToBody:{type:Boolean,default:!1},beforeClose:{type:W(Function)},destroyOnClose:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:{type:Boolean,required:!0},modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1}})),po={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[ue]:e=>Xe(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},vo=(e,t)=>{const i=Ae().emit,{nextZIndex:u}=Ve();let d="";const n=se(),m=se(),r=w(!1),y=w(!1),l=w(!1),c=w(e.zIndex||u());let f,E;const M=X(()=>Ke(e.width)?`${e.width}px`:e.width),I=Ge("namespace",qe),B=X(()=>{const b={},Y=`--${I.value}-dialog`;return e.fullscreen||(e.top&&(b[`${Y}-margin-top`]=e.top),e.width&&(b[`${Y}-width`]=M.value)),b});function A(){i("opened")}function N(){i("closed"),i(ue,!1),e.destroyOnClose&&(l.value=!1)}function O(){i("close")}function D(){E==null||E(),f==null||f(),e.openDelay&&e.openDelay>0?{stop:f}=te(()=>a(),e.openDelay):a()}function S(){f==null||f(),E==null||E(),e.closeDelay&&e.closeDelay>0?{stop:E}=te(()=>p(),e.closeDelay):p()}function v(){function b(Y){Y||(y.value=!0,r.value=!1)}e.beforeClose?e.beforeClose(b):S()}function k(){e.closeOnClickModal&&v()}function a(){!ae||(r.value=!0)}function p(){r.value=!1}function C(){i("openAutoFocus")}function $(){i("closeAutoFocus")}e.lockScroll&&oo(r);function me(){e.closeOnPressEscape&&v()}return G(()=>e.modelValue,b=>{b?(y.value=!1,D(),l.value=!0,i("open"),c.value=e.zIndex?c.value++:u(),De(()=>{t.value&&(t.value.scrollTop=0)})):r.value&&S()}),G(()=>e.fullscreen,b=>{!t.value||(b?(d=t.value.style.transform,t.value.style.transform=""):t.value.style.transform=d)}),ne(()=>{e.modelValue&&(r.value=!0,l.value=!0,D())}),{afterEnter:A,afterLeave:N,beforeLeave:O,handleClose:v,onModalClick:k,close:S,doClose:p,onOpenAutoFocus:C,onCloseAutoFocus:$,onCloseRequested:me,titleId:n,bodyId:m,closed:y,style:B,rendered:l,visible:r,zIndex:c}},yo=["aria-label","aria-labelledby","aria-describedby"],Eo={name:"ElDialog"},Co=j(z(_({},Eo),{props:mo,emits:po,setup(e,{expose:t}){const s=e,i=Le();Ze({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},X(()=>!!i.title));const u=ie("dialog"),d=w(),n=w(),m=w(),{visible:r,titleId:y,bodyId:l,style:c,rendered:f,zIndex:E,afterEnter:M,afterLeave:I,beforeLeave:B,handleClose:A,onModalClick:N,onOpenAutoFocus:O,onCloseAutoFocus:D,onCloseRequested:S}=vo(s,d);Ie(de,{dialogRef:d,headerRef:n,bodyId:l,ns:u,rendered:f,style:c});const v=ce(N),k=X(()=>s.draggable&&!s.fullscreen);return eo(d,n,k),t({visible:r,dialogContentRef:m}),(a,p)=>(L(),q($e,{to:"body",disabled:!a.appendToBody},[R(Re,{name:"dialog-fade",onAfterEnter:o(M),onAfterLeave:o(I),onBeforeLeave:o(B)},{default:h(()=>[Be(R(o(lo),{"custom-mask-event":"",mask:a.modal,"overlay-class":a.modalClass,"z-index":o(E)},{default:h(()=>[H("div",{role:"dialog","aria-modal":"true","aria-label":a.title||void 0,"aria-labelledby":a.title?void 0:o(y),"aria-describedby":o(l),class:T(`${o(u).namespace.value}-overlay-dialog`),onClick:p[0]||(p[0]=(...C)=>o(v).onClick&&o(v).onClick(...C)),onMousedown:p[1]||(p[1]=(...C)=>o(v).onMousedown&&o(v).onMousedown(...C)),onMouseup:p[2]||(p[2]=(...C)=>o(v).onMouseup&&o(v).onMouseup(...C))},[R(o(Fe),{loop:"",trapped:o(r),"focus-start-el":"container",onFocusAfterTrapped:o(O),onFocusAfterReleased:o(D),onReleaseRequested:o(S)},{default:h(()=>[o(f)?(L(),q(fo,{key:0,ref_key:"dialogContentRef",ref:m,"custom-class":a.customClass,center:a.center,"close-icon":a.closeIcon,draggable:o(k),fullscreen:a.fullscreen,"show-close":a.showClose,style:le(o(c)),title:a.title,onClose:o(A)},Oe({header:h(()=>[a.$slots.title?g(a.$slots,"title",{key:1}):g(a.$slots,"header",{key:0,close:o(A),titleId:o(y),titleClass:o(u).e("title")})]),default:h(()=>[g(a.$slots,"default")]),_:2},[a.$slots.footer?{name:"footer",fn:h(()=>[g(a.$slots,"footer")])}:void 0]),1032,["custom-class","center","close-icon","draggable","fullscreen","show-close","style","title","onClose"])):x("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onReleaseRequested"])],42,yo)]),_:3},8,["mask","overlay-class","z-index"]),[[Ne,o(r)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}}));var bo=re(Co,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]);const Do=xe(bo);export{Do as E};
