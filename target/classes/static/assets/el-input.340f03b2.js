var Xe=Object.defineProperty,qe=Object.defineProperties;var Ye=Object.getOwnPropertyDescriptors;var $e=Object.getOwnPropertySymbols;var Ge=Object.prototype.hasOwnProperty,Je=Object.prototype.propertyIsEnumerable;var Ie=(o,l,s)=>l in o?Xe(o,l,{enumerable:!0,configurable:!0,writable:!0,value:s}):o[l]=s,J=(o,l)=>{for(var s in l||(l={}))Ge.call(l,s)&&Ie(o,s,l[s]);if($e)for(var s of $e(l))Je.call(l,s)&&Ie(o,s,l[s]);return o},Ee=(o,l)=>qe(o,Ye(l));import{d as le,b as c,e as g,f as S,c as f,D as Ae,r as P,z as Q,$ as Qe,X as et,s as ee,w as te,o as tt,n as N,L as ot,I as at,i as st,v as nt,m,F as oe,j as h,u as t,q as j,g as w,h as T,N as K,S as ae,l as lt,k as rt,y as W,t as it,M as ze}from"./index.1ab5ed35.js";import{_ as Me,A as ut,i as _e,b as ct,d as se,p as ke,V as dt,u as pt,E as F,B as ft,f as vt}from"./index2.3dd85f37.js";import{j as mt,m as ht,k as yt,l as gt,h as bt,n as xt,p as Ne}from"./el-popper.4015840f.js";import{u as Pe,_ as wt,w as St}from"./plugin-vue_export-helper.8ab27d33.js";function Ct(o){return o==null}const $t=le({name:"Hide"}),It={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},Et=S("path",{d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2L371.2 588.8ZM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z",fill:"currentColor"},null,-1),zt=S("path",{d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z",fill:"currentColor"},null,-1),_t=[Et,zt];function kt(o,l,s,a,i,d){return c(),g("svg",It,_t)}var Nt=Me($t,[["render",kt]]);const Pt=le({name:"View"}),Vt={viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},At=S("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352zm0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448zm0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160z"},null,-1),Mt=[At];function Tt(o,l,s,a,i,d){return c(),g("svg",Vt,Mt)}var Ft=Me(Pt,[["render",Tt]]);const ne="update:modelValue",so="change",Lt=o=>/([(\uAC00-\uD7AF)|(\u3130-\u318F)])+/gi.test(o),Bt=["class","style"],Dt=/^on[A-Z]/,Rt=(o={})=>{const{excludeListeners:l=!1,excludeKeys:s}=o,a=f(()=>((s==null?void 0:s.value)||[]).concat(Bt)),i=Ae();return i?f(()=>{var d;return ut(Object.entries((d=i.proxy)==null?void 0:d.$attrs).filter(([u])=>!a.value.includes(u)&&!(l&&Dt.test(u))))}):f(()=>({}))};function Ht(o){const l=P();function s(){if(o.value==null)return;const{selectionStart:i,selectionEnd:d,value:u}=o.value;if(i==null||d==null)return;const x=u.slice(0,Math.max(0,i)),p=u.slice(Math.max(0,d));l.value={selectionStart:i,selectionEnd:d,value:u,beforeTxt:x,afterTxt:p}}function a(){if(o.value==null||l.value==null)return;const{value:i}=o.value,{beforeTxt:d,afterTxt:u,selectionStart:x}=l.value;if(d==null||u==null||x==null)return;let p=i.length;if(i.endsWith(u))p=i.length-u.length;else if(i.startsWith(d))p=d.length;else{const y=d[x-1],C=i.indexOf(y,x-1);C!==-1&&(p=C+1)}o.value.setSelectionRange(p,p)}return[s,a]}let b;const Ot=`
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,jt=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function Kt(o){const l=window.getComputedStyle(o),s=l.getPropertyValue("box-sizing"),a=Number.parseFloat(l.getPropertyValue("padding-bottom"))+Number.parseFloat(l.getPropertyValue("padding-top")),i=Number.parseFloat(l.getPropertyValue("border-bottom-width"))+Number.parseFloat(l.getPropertyValue("border-top-width"));return{contextStyle:jt.map(u=>`${u}:${l.getPropertyValue(u)}`).join(";"),paddingSize:a,borderSize:i,boxSizing:s}}function Ve(o,l=1,s){var a;b||(b=document.createElement("textarea"),document.body.appendChild(b));const{paddingSize:i,borderSize:d,boxSizing:u,contextStyle:x}=Kt(o);b.setAttribute("style",`${x};${Ot}`),b.value=o.value||o.placeholder||"";let p=b.scrollHeight;const y={};u==="border-box"?p=p+d:u==="content-box"&&(p=p-i),b.value="";const C=b.scrollHeight-i;if(_e(l)){let v=C*l;u==="border-box"&&(v=v+i+d),p=Math.max(v,p),y.minHeight=`${v}px`}if(_e(s)){let v=C*s;u==="border-box"&&(v=v+i+d),p=Math.min(v,p)}return y.height=`${p}px`,(a=b.parentNode)==null||a.removeChild(b),b=void 0,y}const Wt=ct({id:{type:String,default:void 0},size:mt,disabled:Boolean,modelValue:{type:se([String,Number,Object]),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:se([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String,default:""},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:ke,default:""},prefixIcon:{type:ke,default:""},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:se([Object,Array,String]),default:()=>ht({})}}),Ut={[ne]:o=>Q(o),input:o=>Q(o),change:o=>Q(o),focus:o=>o instanceof FocusEvent,blur:o=>o instanceof FocusEvent,clear:()=>!0,mouseleave:o=>o instanceof MouseEvent,mouseenter:o=>o instanceof MouseEvent,keydown:o=>o instanceof Event,compositionstart:o=>o instanceof CompositionEvent,compositionupdate:o=>o instanceof CompositionEvent,compositionend:o=>o instanceof CompositionEvent},Zt=["role"],Xt=["id","type","disabled","formatter","parser","readonly","autocomplete","tabindex","aria-label","placeholder"],qt=["id","tabindex","disabled","readonly","autocomplete","aria-label","placeholder"],Yt={name:"ElInput",inheritAttrs:!1},Gt=le(Ee(J({},Yt),{props:Wt,emits:Ut,setup(o,{expose:l,emit:s}){const a=o,i={suffix:"append",prefix:"prepend"},d=Ae(),u=Qe(),x=et(),p=f(()=>{const e={};return a.containerRole==="combobox"&&(e["aria-haspopup"]=u["aria-haspopup"],e["aria-owns"]=u["aria-owns"],e["aria-expanded"]=u["aria-expanded"]),e}),y=Rt({excludeKeys:f(()=>Object.keys(p.value))}),{form:C,formItem:v}=yt(),{inputId:re}=gt(a,{formItemContext:v}),Te=bt(),z=xt(),n=Pe("input"),ie=Pe("textarea"),L=ee(),_=ee(),V=P(!1),U=P(!1),A=P(!1),B=P(!1),ue=P(),Z=ee(a.inputStyle),M=f(()=>L.value||_.value),ce=f(()=>{var e;return(e=C==null?void 0:C.statusIcon)!=null?e:!1}),D=f(()=>(v==null?void 0:v.validateState)||""),de=f(()=>dt[D.value]),Fe=f(()=>B.value?Ft:Nt),Le=f(()=>[u.style,a.inputStyle]),pe=f(()=>[a.inputStyle,Z.value,{resize:a.resize}]),I=f(()=>Ct(a.modelValue)?"":String(a.modelValue)),R=f(()=>a.clearable&&!z.value&&!a.readonly&&!!I.value&&(V.value||U.value)),X=f(()=>a.showPassword&&!z.value&&!a.readonly&&(!!I.value||V.value)),k=f(()=>a.showWordLimit&&!!y.value.maxlength&&(a.type==="text"||a.type==="textarea")&&!z.value&&!a.readonly&&!a.showPassword),q=f(()=>Array.from(I.value).length),Be=f(()=>!!k.value&&q.value>Number(y.value.maxlength)),De=f(()=>!!x.suffix||!!a.suffixIcon||R.value||a.showPassword||k.value||!!D.value&&ce.value),[Re,He]=Ht(L);pt(_,e=>{if(!k.value||a.resize!=="both")return;const r=e[0],{width:$}=r.contentRect;ue.value={right:`calc(100% - ${$+15+6}px)`}});const H=()=>{const{type:e,autosize:r}=a;if(!(!vt||e!=="textarea"))if(r){const $=ze(r)?r.minRows:void 0,E=ze(r)?r.maxRows:void 0;Z.value=J({},Ve(_.value,$,E))}else Z.value={minHeight:Ve(_.value).minHeight}},O=()=>{const e=M.value;!e||e.value===I.value||(e.value=I.value)},fe=e=>{const{el:r}=d.vnode;if(!r)return;const E=Array.from(r.querySelectorAll(`.${n.e(e)}`)).find(Ze=>Ze.parentNode===r);if(!E)return;const Ce=i[e];x[Ce]?E.style.transform=`translateX(${e==="suffix"?"-":""}${r.querySelector(`.${n.be("group",Ce)}`).offsetWidth}px)`:E.removeAttribute("style")},Y=()=>{fe("prefix"),fe("suffix")},G=async e=>{Re();let{value:r}=e.target;a.formatter&&(r=a.parser?a.parser(r):r,r=a.formatter(r)),!A.value&&r!==I.value&&(s(ne,r),s("input",r),await N(),O(),He())},ve=e=>{s("change",e.target.value)},me=e=>{s("compositionstart",e),A.value=!0},he=e=>{var r;s("compositionupdate",e);const $=(r=e.target)==null?void 0:r.value,E=$[$.length-1]||"";A.value=!Lt(E)},ye=e=>{s("compositionend",e),A.value&&(A.value=!1,G(e))},Oe=()=>{B.value=!B.value,ge()},ge=async()=>{var e;await N(),(e=M.value)==null||e.focus()},je=()=>{var e;return(e=M.value)==null?void 0:e.blur()},be=e=>{V.value=!0,s("focus",e)},xe=e=>{var r;V.value=!1,s("blur",e),a.validateEvent&&((r=v==null?void 0:v.validate)==null||r.call(v,"blur").catch($=>Ne()))},Ke=e=>{U.value=!1,s("mouseleave",e)},We=e=>{U.value=!0,s("mouseenter",e)},we=e=>{s("keydown",e)},Ue=()=>{var e;(e=M.value)==null||e.select()},Se=()=>{s(ne,""),s("change",""),s("clear"),s("input","")};return te(()=>a.modelValue,()=>{var e;N(()=>H()),a.validateEvent&&((e=v==null?void 0:v.validate)==null||e.call(v,"change").catch(r=>Ne()))}),te(I,()=>O()),te(()=>a.type,async()=>{await N(),O(),H(),Y()}),tt(async()=>{!a.formatter&&a.parser,O(),Y(),await N(),H()}),ot(async()=>{await N(),Y()}),l({input:L,textarea:_,ref:M,textareaStyle:pe,autosize:at(a,"autosize"),focus:ge,blur:je,select:Ue,clear:Se,resizeTextarea:H}),(e,r)=>st((c(),g("div",ae(t(p),{class:[e.type==="textarea"?t(ie).b():t(n).b(),t(n).m(t(Te)),t(n).is("disabled",t(z)),t(n).is("exceed",t(Be)),{[t(n).b("group")]:e.$slots.prepend||e.$slots.append,[t(n).bm("group","append")]:e.$slots.append,[t(n).bm("group","prepend")]:e.$slots.prepend,[t(n).m("prefix")]:e.$slots.prefix||e.prefixIcon,[t(n).m("suffix")]:e.$slots.suffix||e.suffixIcon||e.clearable||e.showPassword,[t(n).bm("suffix","password-clear")]:t(R)&&t(X)},e.$attrs.class],style:t(Le),role:e.containerRole,onMouseenter:We,onMouseleave:Ke}),[m(" input "),e.type!=="textarea"?(c(),g(oe,{key:0},[m(" prepend slot "),e.$slots.prepend?(c(),g("div",{key:0,class:h(t(n).be("group","prepend"))},[j(e.$slots,"prepend")],2)):m("v-if",!0),S("div",{class:h([t(n).e("wrapper"),t(n).is("focus",V.value)])},[m(" prefix slot "),e.$slots.prefix||e.prefixIcon?(c(),g("span",{key:0,class:h(t(n).e("prefix"))},[S("span",{class:h(t(n).e("prefix-inner"))},[j(e.$slots,"prefix"),e.prefixIcon?(c(),w(t(F),{key:0,class:h(t(n).e("icon"))},{default:T(()=>[(c(),w(K(e.prefixIcon)))]),_:1},8,["class"])):m("v-if",!0)],2)],2)):m("v-if",!0),S("input",ae({id:t(re),ref_key:"input",ref:L,class:t(n).e("inner")},t(y),{type:e.showPassword?B.value?"text":"password":e.type,disabled:t(z),formatter:e.formatter,parser:e.parser,readonly:e.readonly,autocomplete:e.autocomplete,tabindex:e.tabindex,"aria-label":e.label,placeholder:e.placeholder,style:e.inputStyle,onCompositionstart:me,onCompositionupdate:he,onCompositionend:ye,onInput:G,onFocus:be,onBlur:xe,onChange:ve,onKeydown:we}),null,16,Xt),m(" suffix slot "),t(De)?(c(),g("span",{key:1,class:h(t(n).e("suffix"))},[S("span",{class:h(t(n).e("suffix-inner"))},[!t(R)||!t(X)||!t(k)?(c(),g(oe,{key:0},[j(e.$slots,"suffix"),e.suffixIcon?(c(),w(t(F),{key:0,class:h(t(n).e("icon"))},{default:T(()=>[(c(),w(K(e.suffixIcon)))]),_:1},8,["class"])):m("v-if",!0)],64)):m("v-if",!0),t(R)?(c(),w(t(F),{key:1,class:h([t(n).e("icon"),t(n).e("clear")]),onMousedown:r[0]||(r[0]=rt(()=>{},["prevent"])),onClick:Se},{default:T(()=>[lt(t(ft))]),_:1},8,["class"])):m("v-if",!0),t(X)?(c(),w(t(F),{key:2,class:h([t(n).e("icon"),t(n).e("password")]),onClick:Oe},{default:T(()=>[(c(),w(K(t(Fe))))]),_:1},8,["class"])):m("v-if",!0),t(k)?(c(),g("span",{key:3,class:h(t(n).e("count"))},[S("span",{class:h(t(n).e("count-inner"))},W(t(q))+" / "+W(t(y).maxlength),3)],2)):m("v-if",!0),t(D)&&t(de)&&t(ce)?(c(),w(t(F),{key:4,class:h([t(n).e("icon"),t(n).e("validateIcon"),t(n).is("loading",t(D)==="validating")])},{default:T(()=>[(c(),w(K(t(de))))]),_:1},8,["class"])):m("v-if",!0)],2)],2)):m("v-if",!0)],2),m(" append slot "),e.$slots.append?(c(),g("div",{key:1,class:h(t(n).be("group","append"))},[j(e.$slots,"append")],2)):m("v-if",!0)],64)):(c(),g(oe,{key:1},[m(" textarea "),S("textarea",ae({id:t(re),ref_key:"textarea",ref:_,class:t(ie).e("inner")},t(y),{tabindex:e.tabindex,disabled:t(z),readonly:e.readonly,autocomplete:e.autocomplete,style:t(pe),"aria-label":e.label,placeholder:e.placeholder,onCompositionstart:me,onCompositionupdate:he,onCompositionend:ye,onInput:G,onFocus:be,onBlur:xe,onChange:ve,onKeydown:we}),null,16,qt),t(k)?(c(),g("span",{key:0,style:it(ue.value),class:h(t(n).e("count"))},W(t(q))+" / "+W(t(y).maxlength),7)):m("v-if",!0)],64))],16,Zt)),[[nt,e.type!=="hidden"]])}}));var Jt=wt(Gt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);const no=St(Jt);export{so as C,no as E,ne as U,Lt as a,Ct as i,Rt as u};
