var pe=Object.defineProperty,he=Object.defineProperties;var ge=Object.getOwnPropertyDescriptors;var Q=Object.getOwnPropertySymbols;var ye=Object.prototype.hasOwnProperty,Te=Object.prototype.propertyIsEnumerable;var Z=(e,a,u)=>a in e?pe(e,a,{enumerable:!0,configurable:!0,writable:!0,value:u}):e[a]=u,H=(e,a)=>{for(var u in a||(a={}))ye.call(a,u)&&Z(e,u,a[u]);if(Q)for(var u of Q(a))Te.call(a,u)&&Z(e,u,a[u]);return e},W=(e,a)=>he(e,ge(a));import{b as K,d as M,u as se,r as Ne,s as _e,E as V,v as Pe,h as D,i as we,w as ee}from"./index2.3dd85f37.js";import{d as U,A as Y,r as C,w as B,n as Ce,Y as R,b as ne,e as oe,j as le,u as $,t as Ee,D as G,O as te,c as I,o as re,L as Se,l as d,z as $e,B as ie,p as Be,q as ce,X as xe,C as Oe,i as ke,v as Re,m as ze}from"./index.1ab5ed35.js";import{m as ue,t as J}from"./el-popper.4015840f.js";import{u as j,_ as de,w as Ae,a as Fe}from"./plugin-vue_export-helper.8ab27d33.js";import{a as Le}from"./arrow-left.1d903233.js";import{a as Me}from"./arrow-right.8d3de22b.js";import{U as be}from"./el-input.340f03b2.js";import{p as Ve}from"./plus.f8e9bd08.js";const q=Symbol("tabsRootContextKey"),De=K({tabs:{type:M(Array),default:()=>ue([])}}),Ie={name:"ElTabBar"},Ke=U(W(H({},Ie),{props:De,setup(e,{expose:a}){const u=e,T="ElTabBar",s=G(),p=Y(q);p||J(T,"<el-tabs><el-tab-bar /></el-tabs>");const E=j("tabs"),l=C(),N=C(),f=()=>{let i=0,_=0;const t=["top","bottom"].includes(p.props.tabPosition)?"width":"height",r=t==="width"?"x":"y";return u.tabs.every(v=>{var S,z,A,F;const x=(z=(S=s.parent)==null?void 0:S.refs)==null?void 0:z[`tab-${v.paneName}`];if(!x)return!1;if(!v.active)return!0;_=x[`client${R(t)}`];const L=r==="x"?"left":"top";i=x.getBoundingClientRect()[L]-((F=(A=x.parentElement)==null?void 0:A.getBoundingClientRect()[L])!=null?F:0);const O=window.getComputedStyle(x);return t==="width"&&(u.tabs.length>1&&(_-=Number.parseFloat(O.paddingLeft)+Number.parseFloat(O.paddingRight)),i+=Number.parseFloat(O.paddingLeft)),!1}),{[t]:`${_}px`,transform:`translate${R(r)}(${i}px)`}},b=()=>N.value=f();return B(()=>u.tabs,async()=>{await Ce(),b()},{immediate:!0}),se(l,()=>b()),a({ref:l,update:b}),(i,_)=>(ne(),oe("div",{ref_key:"barRef",ref:l,class:le([$(E).e("active-bar"),$(E).is($(p).props.tabPosition)]),style:Ee(N.value)},null,6))}}));var Ue=de(Ke,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-bar.vue"]]);const je=K({panes:{type:M(Array),default:()=>ue([])},currentName:{type:[String,Number],default:""},editable:Boolean,onTabClick:{type:M(Function),default:te},onTabRemove:{type:M(Function),default:te},type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),ae="ElTabNav",qe=U({name:ae,props:je,setup(e,{expose:a}){const u=G(),T=Y(q);T||J(ae,"<el-tabs><tab-nav /></el-tabs>");const s=j("tabs"),p=Ne(),E=_e(),l=C(),N=C(),f=C(),b=C(!1),i=C(0),_=C(!1),t=C(!0),r=I(()=>["top","bottom"].includes(T.props.tabPosition)?"width":"height"),v=I(()=>({transform:`translate${r.value==="width"?"X":"Y"}(-${i.value}px)`})),S=()=>{if(!l.value)return;const n=l.value[`offset${R(r.value)}`],c=i.value;if(!c)return;const o=c>n?c-n:0;i.value=o},z=()=>{if(!l.value||!N.value)return;const n=N.value[`offset${R(r.value)}`],c=l.value[`offset${R(r.value)}`],o=i.value;if(n-o<=c)return;const P=n-o>c*2?o+c:n-c;i.value=P},A=()=>{const n=N.value;if(!b.value||!f.value||!l.value||!n)return;const c=f.value.querySelector(".is-active");if(!c)return;const o=l.value,P=["top","bottom"].includes(T.props.tabPosition),g=c.getBoundingClientRect(),h=o.getBoundingClientRect(),w=P?n.offsetWidth-h.width:n.offsetHeight-h.height,y=i.value;let m=y;P?(g.left<h.left&&(m=y-(h.left-g.left)),g.right>h.right&&(m=y+g.right-h.right)):(g.top<h.top&&(m=y-(h.top-g.top)),g.bottom>h.bottom&&(m=y+(g.bottom-h.bottom))),m=Math.max(m,0),i.value=Math.min(m,w)},F=()=>{if(!N.value||!l.value)return;const n=N.value[`offset${R(r.value)}`],c=l.value[`offset${R(r.value)}`],o=i.value;if(c<n){const P=i.value;b.value=b.value||{},b.value.prev=P,b.value.next=P+c<n,n-P<c&&(i.value=n-c)}else b.value=!1,o>0&&(i.value=0)},x=n=>{const c=n.code,{up:o,down:P,left:g,right:h}=D;if(![o,P,g,h].includes(c))return;const w=Array.from(n.currentTarget.querySelectorAll("[role=tab]")),y=w.indexOf(n.target);let m;c===g||c===o?y===0?m=w.length-1:m=y-1:y<w.length-1?m=y+1:m=0,w[m].focus(),w[m].click(),L()},L=()=>{t.value&&(_.value=!0)},O=()=>_.value=!1;return B(p,n=>{n==="hidden"?t.value=!1:n==="visible"&&setTimeout(()=>t.value=!0,50)}),B(E,n=>{n?setTimeout(()=>t.value=!0,50):t.value=!1}),se(f,F),re(()=>setTimeout(()=>A(),0)),Se(()=>F()),a({scrollToActiveTab:A,removeFocus:O}),B(()=>e.panes,()=>u.update(),{flush:"post"}),()=>{const n=b.value?[d("span",{class:[s.e("nav-prev"),s.is("disabled",!b.value.prev)],onClick:S},[d(V,null,{default:()=>[d(Le,null,null)]})]),d("span",{class:[s.e("nav-next"),s.is("disabled",!b.value.next)],onClick:z},[d(V,null,{default:()=>[d(Me,null,null)]})])]:null,c=e.panes.map((o,P)=>{var g,h;const w=o.props.name||o.index||`${P}`,y=o.isClosable||e.editable;o.index=`${P}`;const m=y?d(V,{class:"is-icon-close",onClick:k=>e.onTabRemove(o,k)},{default:()=>[d(Pe,null,null)]}):null,fe=((h=(g=o.slots).label)==null?void 0:h.call(g))||o.props.label,me=o.active?0:-1;return d("div",{ref:`tab-${w}`,class:[s.e("item"),s.is(T.props.tabPosition),s.is("active",o.active),s.is("disabled",o.props.disabled),s.is("closable",y),s.is("focus",_.value)],id:`tab-${w}`,key:`tab-${w}`,"aria-controls":`pane-${w}`,role:"tab","aria-selected":o.active,tabindex:me,onFocus:()=>L(),onBlur:()=>O(),onClick:k=>{O(),e.onTabClick(o,w,k)},onKeydown:k=>{y&&(k.code===D.delete||k.code===D.backspace)&&e.onTabRemove(o,k)}},[fe,m])});return d("div",{ref:f,class:[s.e("nav-wrap"),s.is("scrollable",!!b.value),s.is(T.props.tabPosition)]},[n,d("div",{class:s.e("nav-scroll"),ref:l},[d("div",{class:[s.e("nav"),s.is(T.props.tabPosition),s.is("stretch",e.stretch&&["top","bottom"].includes(T.props.tabPosition))],ref:N,style:v.value,role:"tablist",onKeydown:x},[e.type?null:d(Ue,{tabs:[...e.panes]},null),c])])])}}}),He=K({type:{type:String,values:["card","border-card",""],default:""},activeName:{type:[String,Number],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number],default:""},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:M(Function),default:()=>!0},stretch:Boolean}),X=e=>$e(e)||we(e),We={[be]:e=>X(e),"tab-click":(e,a)=>a instanceof Event,"tab-change":e=>X(e),edit:(e,a)=>["remove","add"].includes(a),"tab-remove":e=>X(e),"tab-add":()=>!0};var Xe=U({name:"ElTabs",props:He,emits:We,setup(e,{emit:a,slots:u,expose:T}){const s=j("tabs"),p=C(),E=ie({}),l=C(e.modelValue||e.activeName||"0"),N=t=>{l.value=t,a(be,t),a("tab-change",t)},f=async t=>{var r,v,S;if(l.value!==t)try{await((r=e.beforeLeave)==null?void 0:r.call(e,t,l.value))!==!1&&(N(t),(S=(v=p.value)==null?void 0:v.removeFocus)==null||S.call(v))}catch{}},b=(t,r,v)=>{t.props.disabled||(f(r),a("tab-click",t,v))},i=(t,r)=>{t.props.disabled||(r.stopPropagation(),a("edit",t.props.name,"remove"),a("tab-remove",t.props.name))},_=()=>{a("edit",void 0,"add"),a("tab-add")};return B(()=>e.activeName,t=>f(t)),B(()=>e.modelValue,t=>f(t)),B(l,async()=>{var t;(t=p.value)==null||t.scrollToActiveTab()}),Be(q,{props:e,currentName:l,registerPane:v=>E[v.uid]=v,unregisterPane:v=>delete E[v]}),T({currentName:l}),()=>{const t=e.editable||e.addable?d("span",{class:s.e("new-tab"),tabindex:"0",onClick:_,onKeydown:S=>{S.code===D.enter&&_()}},[d(V,{class:s.is("icon-plus")},{default:()=>[d(Ve,null,null)]})]):null,r=d("div",{class:[s.e("header"),s.is(e.tabPosition)]},[t,d(qe,{ref:p,currentName:l.value,editable:e.editable,type:e.type,panes:Object.values(E),stretch:e.stretch,onTabClick:b,onTabRemove:i},null)]),v=d("div",{class:s.e("content")},[ce(u,"default")]);return d("div",{class:[s.b(),s.m(e.tabPosition),{[s.m("card")]:e.type==="card",[s.m("border-card")]:e.type==="border-card"}]},[...e.tabPosition!=="bottom"?[r,v]:[v,r]])}}});const Ye=K({label:{type:String,default:""},name:{type:[String,Number],default:""},closable:Boolean,disabled:Boolean,lazy:Boolean}),Ge=["id","aria-hidden","aria-labelledby"],Je={name:"ElTabPane"},Qe=U(W(H({},Je),{props:Ye,setup(e){const a=e,u="ElTabPane",T=G(),s=xe(),p=Y(q);p||J(u,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const E=j("tab-pane"),l=C(),N=I(()=>a.closable||p.props.closable),f=ee(()=>p.currentName.value===(a.name||l.value)),b=C(f.value),i=I(()=>a.name||l.value),_=ee(()=>!a.lazy||b.value||f.value);B(f,r=>{r&&(b.value=!0)});const t=ie({uid:T.uid,slots:s,props:a,paneName:i,active:f,index:l,isClosable:N});return re(()=>{p.registerPane(t)}),Oe(()=>{p.unregisterPane(t.uid)}),(r,v)=>$(_)?ke((ne(),oe("div",{key:0,id:`pane-${$(i)}`,class:le($(E).b()),role:"tabpanel","aria-hidden":!$(f),"aria-labelledby":`tab-${$(i)}`},[ce(r.$slots,"default")],10,Ge)),[[Re,$(f)]]):ze("v-if",!0)}}));var ve=de(Qe,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-pane.vue"]]);const it=Ae(Xe,{TabPane:ve}),ct=Fe(ve);export{ct as E,it as a};
