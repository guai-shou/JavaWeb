var x=Object.defineProperty,ee=Object.defineProperties;var se=Object.getOwnPropertyDescriptors;var V=Object.getOwnPropertySymbols;var ne=Object.prototype.hasOwnProperty,te=Object.prototype.propertyIsEnumerable;var q=(e,n,s)=>n in e?x(e,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[n]=s,C=(e,n)=>{for(var s in n||(n={}))ne.call(n,s)&&q(e,s,n[s]);if(V)for(var s of V(n))te.call(n,s)&&q(e,s,n[s]);return e},N=(e,n)=>ee(e,se(n));import{d as j,c as E,b as f,e as w,q as D,l as O,h as S,i as K,v as J,u as p,f as B,j as g,y as Q,T as R,w as W,r as A,o as oe,K as k,g as h,m as $,N as ae,F as le,k as re,t as ie,a7 as T,M as ue,z as M,H as me,a8 as U}from"./index.1ab5ed35.js";import{b as F,i as z,d as v,e as ce,p as de,E as pe,T as fe,y as Z,j as ge,z as ye,h as ve,f as be,n as Ce,m as G}from"./index2.3dd85f37.js";import{u as X,_ as Y,w as he,p as Te,c as Ne}from"./plugin-vue_export-helper.8ab27d33.js";const $e=F({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"}}),Ee=["textContent"],Se={name:"ElBadge"},ke=j(N(C({},Se),{props:$e,setup(e,{expose:n}){const s=e,t=X("badge"),o=E(()=>s.isDot?"":z(s.value)&&z(s.max)?s.max<s.value?`${s.max}+`:`${s.value}`:`${s.value}`);return n({content:o}),(a,l)=>(f(),w("div",{class:g(p(t).b())},[D(a.$slots,"default"),O(R,{name:`${p(t).namespace.value}-zoom-in-center`},{default:S(()=>[K(B("sup",{class:g([p(t).e("content"),p(t).em("content",a.type),p(t).is("fixed",!!a.$slots.default),p(t).is("dot",a.isDot)]),textContent:Q(p(o))},null,10,Ee),[[J,!a.hidden&&(p(o)||p(o)==="0"||a.isDot)]])]),_:1},8,["name"])],2))}}));var we=Y(ke,[["__file","/home/runner/work/element-plus/element-plus/packages/components/badge/src/badge.vue"]]);const Be=he(we),I={},Me=F({a11y:{type:Boolean,default:!0},locale:{type:v(Object)},size:{type:String,values:ce,default:""},button:{type:v(Object)},experimentalFeatures:{type:v(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:v(Object)},zIndex:{type:Number},namespace:{type:String,default:"el"}});j({name:"ElConfigProvider",props:Me,setup(e,{slots:n}){W(()=>e.message,t=>{Object.assign(I,t!=null?t:{})},{immediate:!0,deep:!0});const s=Te(e);return()=>D(n,"default",{config:s==null?void 0:s.value})}});const _=["success","info","warning","error"],ze=F({customClass:{type:String,default:""},center:{type:Boolean,default:!1},dangerouslyUseHTMLString:{type:Boolean,default:!1},duration:{type:Number,default:3e3},icon:{type:de,default:""},id:{type:String,default:""},message:{type:v([String,Object,Function]),default:""},onClose:{type:v(Function),required:!1},showClose:{type:Boolean,default:!1},type:{type:String,values:_,default:"info"},offset:{type:Number,default:20},zIndex:{type:Number,default:0},grouping:{type:Boolean,default:!1},repeatNum:{type:Number,default:1}}),Ie={destroy:()=>!0},je=j({name:"ElMessage",components:C({ElBadge:Be,ElIcon:pe},fe),props:ze,emits:Ie,setup(e){const n=X("message"),s=A(!1),t=A(e.type?e.type==="error"?"danger":e.type:"info");let o;const a=E(()=>{const d=e.type;return{[n.bm("icon",d)]:d&&Z[d]}}),l=E(()=>e.icon||Z[e.type]||""),i=E(()=>({top:`${e.offset}px`,zIndex:e.zIndex}));function m(){e.duration>0&&({stop:o}=ye(()=>{s.value&&c()},e.duration))}function u(){o==null||o()}function c(){s.value=!1}function y({code:d}){d===ve.esc?s.value&&c():m()}return oe(()=>{m(),s.value=!0}),W(()=>e.repeatNum,()=>{u(),m()}),ge(document,"keydown",y),{ns:n,typeClass:a,iconComponent:l,customStyle:i,visible:s,badgeType:t,close:c,clearTimer:u,startTimer:m}}}),De=["id"],Oe=["innerHTML"];function Fe(e,n,s,t,o,a){const l=k("el-badge"),i=k("el-icon"),m=k("close");return f(),h(R,{name:e.ns.b("fade"),onBeforeLeave:e.onClose,onAfterLeave:n[2]||(n[2]=u=>e.$emit("destroy"))},{default:S(()=>[K(B("div",{id:e.id,class:g([e.ns.b(),{[e.ns.m(e.type)]:e.type&&!e.icon},e.ns.is("center",e.center),e.ns.is("closable",e.showClose),e.customClass]),style:ie(e.customStyle),role:"alert",onMouseenter:n[0]||(n[0]=(...u)=>e.clearTimer&&e.clearTimer(...u)),onMouseleave:n[1]||(n[1]=(...u)=>e.startTimer&&e.startTimer(...u))},[e.repeatNum>1?(f(),h(l,{key:0,value:e.repeatNum,type:e.badgeType,class:g(e.ns.e("badge"))},null,8,["value","type","class"])):$("v-if",!0),e.iconComponent?(f(),h(i,{key:1,class:g([e.ns.e("icon"),e.typeClass])},{default:S(()=>[(f(),h(ae(e.iconComponent)))]),_:1},8,["class"])):$("v-if",!0),D(e.$slots,"default",{},()=>[e.dangerouslyUseHTMLString?(f(),w(le,{key:1},[$(" Caution here, message could've been compromised, never use user's input as message "),B("p",{class:g(e.ns.e("content")),innerHTML:e.message},null,10,Oe)],2112)):(f(),w("p",{key:0,class:g(e.ns.e("content"))},Q(e.message),3))]),e.showClose?(f(),h(i,{key:2,class:g(e.ns.e("closeBtn")),onClick:re(e.close,["stop"])},{default:S(()=>[O(m)]),_:1},8,["class","onClick"])):$("v-if",!0)],46,De),[[J,e.visible]])]),_:3},8,["name","onBeforeLeave"])}var He=Y(je,[["render",Fe],["__file","/home/runner/work/element-plus/element-plus/packages/components/message/src/message.vue"]]);const r=[];let Le=1;const b=function(e={},n){if(!be)return{close:()=>{}};if(z(I.max)&&r.length>=I.max)return{close:()=>{}};if(!T(e)&&ue(e)&&e.grouping&&!T(e.message)&&r.length){const y=r.find(d=>{var H,L,P;return`${(L=(H=d.vm.props)==null?void 0:H.message)!=null?L:""}`==`${(P=e.message)!=null?P:""}`});if(y)return y.vm.component.props.repeatNum+=1,y.vm.component.props.type=(e==null?void 0:e.type)||"info",{close:()=>c.component.proxy.visible=!1}}(M(e)||T(e))&&(e={message:e});let s=e.offset||20;r.forEach(({vm:y})=>{var d;s+=(((d=y.el)==null?void 0:d.offsetHeight)||0)+16}),s+=16;const{nextZIndex:t}=Ce(),o=`message_${Le++}`,a=e.onClose,l=N(C({zIndex:t()},e),{offset:s,id:o,onClose:()=>{Pe(o,a)}});let i=document.body;G(e.appendTo)?i=e.appendTo:M(e.appendTo)&&(i=document.querySelector(e.appendTo)),G(i)||(i=document.body);const m=document.createElement("div");m.className=`container_${o}`;const u=l.message,c=O(He,l,me(u)?{default:u}:T(u)?{default:()=>u}:null);return c.appContext=n||b._context,c.props.onDestroy=()=>{U(null,m)},U(c,m),r.push({vm:c}),i.appendChild(m.firstElementChild),{close:()=>c.component.proxy.visible=!1}};_.forEach(e=>{b[e]=(n={},s)=>((M(n)||T(n))&&(n={message:n}),b(N(C({},n),{type:e}),s))});function Pe(e,n){const s=r.findIndex(({vm:l})=>e===l.component.props.id);if(s===-1)return;const{vm:t}=r[s];if(!t)return;n==null||n(t);const o=t.el.offsetHeight;r.splice(s,1);const a=r.length;if(!(a<1))for(let l=s;l<a;l++){const i=Number.parseInt(r[l].vm.el.style.top,10)-o-16;r[l].vm.component.props.offset=i}}function Ve(){var e;for(let n=r.length-1;n>=0;n--){const s=r[n].vm.component;(e=s==null?void 0:s.proxy)==null||e.close()}}b.closeAll=Ve;b._context=null;const Ge=Ne(b,"$message");export{Ge as E};
